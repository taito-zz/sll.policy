Log in as the portal owner::

    >>> from plone.app.testing import TEST_USER_NAME, TEST_USER_PASSWORD
    >>> browser.login(TEST_USER_NAME, TEST_USER_PASSWORD)

Go to manage-portlets page and
check that 'portlets.Login' and 'portlets.Classic' is not there::

    >>> browser.open('/@@manage-portlets')

    >>> 'portlets.Login' in browser.contents
    False
    >>> 'portlets.Classic' in browser.contents
    False

Log out::

    >>> browser.getLink('Log out').click()

Log in as Editor role::

    >>> browser.login(user2, user2)

   >>> browser.open('/@@manage-portlets')

    >>> 'portlets.Calendar' in browser.contents
    True
    >>> 'portlets.Classic' in browser.contents
    False
    >>> 'portlets.News' in browser.contents
    True
    >>> 'portlets.Events' in browser.contents
    True
    >>> 'portlets.Login' in browser.contents
    False
    >>> 'portlets.Navigation' in browser.contents
    True
    >>> 'portlets.Recent' in browser.contents
    True
    >>> 'portlets.Review' in browser.contents
    True
    >>> 'portlets.rss' in browser.contents
    True
    >>> 'portlets.Search' in browser.contents
    True

Get rid of assigned portlets from right column::

    >>> browser.getLink('×', index=0).click()
    >>> browser.getLink('×', index=0).click()


Try to add Calendar portlet::

    >>> browser.open('/++contextportlets++plone.leftcolumn/+/portlets.Calendar')

Move, down, hide and remove Navigation portlet::

    >>> browser.getLink('▼').click()
    >>> '>Show<' in browser.contents
    False
    >>> browser.getLink('Hide', index=0).click()
    >>> '>Show<' in browser.contents
    True
    >>> '>Navigation</a>' in browser.contents
    True
    >>> browser.getLink('×', index=1).click()
    >>> '>Navigation</a>' in browser.contents
    False
